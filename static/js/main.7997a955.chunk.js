(this["webpackJsonpt3-sockets"]=this["webpackJsonpt3-sockets"]||[]).push([[0],{53:function(e,n,t){},55:function(e,n,t){},88:function(e,n,t){"use strict";t.r(n);var a=t(19),r=t(2),i=t(0),c=t.n(i),o=t(26),s=t.n(o),l=(t(53),["AliceBlue","Aqua","Aquamarine","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"]),u=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,97)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))},d=t(91),j=t(92),h=t(94),m=t(96),b=(t(54),t(93)),O=t(95),g=(t(55),t(32)),f=t.n(g),x="CHAT",y=function(){var e=Object(i.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],o=Object(i.useRef)();Object(i.useEffect)((function(){return o.current=f()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),o.current.on(x,(function(e){c((function(n){return[].concat(Object(a.a)(n),[e])}))})),function(){o.current.disconnect()}}));return{messages:t,sendMessage:function(e,n){o.current.emit(x,{message:e,name:n})}}},S=t(1),p=function(){var e=y(),n=e.messages,t=e.sendMessage,a=c.a.useState(""),i=Object(r.a)(a,2),o=i[0],s=i[1],l="Top Gun";return Object(S.jsxs)("div",{className:"chat-room-container",children:[Object(S.jsx)("div",{className:"messages-container",children:Object(S.jsx)("ol",{className:"messages-list",children:n.map((function(e,n){return Object(S.jsxs)("li",{className:"message-item ".concat(e.name===l?"my-message":"received-message"),children:[e.name," (",Date(e),"): ",e.message]},n)}))})}),Object(S.jsx)("textarea",{value:o,onChange:function(e){s(e.target.value)},placeholder:"Escribe algo...",className:"new-message-input-field"}),Object(S.jsx)("button",{onClick:function(){t(o,l),s("")},className:"send-message-button",children:"Send"})]})},G=t(11),k=t(32)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"});k.emit("FLIGHTS"),k.onAny((function(e){console.log("got ".concat(e))}));var B=function(){var e=c.a.useState([]),n=Object(r.a)(e,2),t=n[0],i=n[1];k.on("FLIGHTS",(function(e){i((function(n){return[].concat(Object(a.a)(n),[e])}))}));var o=c.a.useState({code:"",position:[30,30]}),s=Object(r.a)(o,2),l=s[0],u=s[1];return k.on("POSITION",(function(e){u(e)})),Object(S.jsx)("ol",{children:t.map((function(e,n){return e.map((function(e,n){return l.code===e.code?Object(S.jsx)(d.a,{position:l.position,icon:G.icon({iconUrl:"airplane.svg.png",iconSize:[20,20]})}):null}))}))})},v=function(){var e=c.a.useState([]),n=Object(r.a)(e,2),t=n[0],i=n[1];return k.on("FLIGHTS",(function(e){i((function(n){return[].concat(Object(a.a)(n),[e])}))})),Object(S.jsx)("ol",{children:t.map((function(e,n){return e.map((function(e,n){return Object(S.jsx)(j.a,{positions:[e.origin,e.destination],pathOptions:{color:l[n],dashArray:"5, 5"}})}))}))})},D=function(){var e=c.a.useState([]),n=Object(r.a)(e,2),t=n[0],i=n[1];return k.on("FLIGHTS",(function(e){i((function(n){return[].concat(Object(a.a)(n),[e])}))})),Object(S.jsx)(b.a,{children:t.map((function(e,n){return e.map((function(e,n){return Object(S.jsxs)(O.a,{border:"secondary",style:{width:"18rem"},children:[Object(S.jsxs)(O.a.Header,{children:["Vuelo ",e.code]}),Object(S.jsxs)(O.a.Body,{children:[Object(S.jsxs)(O.a.Text,{children:["Origen: ",e.origin]}),Object(S.jsxs)(O.a.Text,{children:["Destino: ",e.destination]}),Object(S.jsxs)(O.a.Text,{children:["Avi\xf3n: ",e.plane]}),Object(S.jsxs)(O.a.Text,{children:["Asientos: ",e.seats]}),Object(S.jsxs)(O.a.Text,{children:["Pasajeros: ",e.passengers.map((function(e,n){return Object(S.jsxs)("li",{children:[e.name," (",e.age,")"]})}))]})]})]})}))}))})};s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsxs)("div",{className:"wrapper",children:[Object(S.jsx)("div",{className:"three",children:Object(S.jsxs)(O.a,{border:"secondary",style:{width:"60rem"},children:[Object(S.jsx)(O.a.Header,{children:'Mapa "En vivo"'}),Object(S.jsx)(O.a.Body,{children:Object(S.jsx)("div",{className:"leaflet-container",children:Object(S.jsxs)(h.a,{center:[30.5,10.5],zoom:2,scrollWheelZoom:!1,children:[Object(S.jsx)(B,{}),Object(S.jsx)(v,{}),Object(S.jsx)(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})]})})})]})}),Object(S.jsx)("div",{className:"four",children:Object(S.jsxs)(O.a,{border:"secondary",style:{width:"23rem"},children:[Object(S.jsx)(O.a.Header,{children:"Centro de Control"}),Object(S.jsxs)(O.a.Body,{children:[" ",Object(S.jsx)(p,{})]})]})}),Object(S.jsx)("div",{className:"five",children:Object(S.jsxs)(O.a,{border:"secondary",style:{width:"60rem"},children:[Object(S.jsx)(O.a.Header,{children:"Informaci\xf3n de los vuelos"}),Object(S.jsx)(O.a.Body,{children:Object(S.jsx)(D,{})})]})})]})}),document.getElementById("root")),u()}},[[88,1,2]]]);
//# sourceMappingURL=main.7997a955.chunk.js.map