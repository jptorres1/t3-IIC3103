(this["webpackJsonpt3-sockets"]=this["webpackJsonpt3-sockets"]||[]).push([[0],{53:function(e,n,t){},55:function(e,n,t){},88:function(e,n,t){"use strict";t.r(n);var a=t(19),r=t(2),i=t(0),c=t.n(i),s=t(27),o=t.n(s),l=(t(53),["AliceBlue","Aqua","Aquamarine","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"]),d=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,98)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))},u=t(91),j=t(92),h=t(93),b=t(95),m=t(97),O=(t(54),t(94)),g=t(96),x=(t(55),t(32)),f=t.n(x),S="CHAT",p=function(){var e=Object(i.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],s=Object(i.useRef)();Object(i.useEffect)((function(){return s.current=f()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),s.current.on(S,(function(e){c((function(n){return[].concat(Object(a.a)(n),[e])}))})),function(){s.current.disconnect()}}),[]);return{messages:t,sendMessage:function(e,n){s.current.emit(S,{name:n,message:e})}}},y=t(1),k=function(){var e=p(),n=e.messages,t=e.sendMessage,a=c.a.useState(""),i=Object(r.a)(a,2),s=i[0],o=i[1],l=c.a.useState(""),d=Object(r.a)(l,2),u=d[0],j=d[1];return Object(y.jsxs)("div",{className:"chat-room-container",children:[Object(y.jsx)("div",{className:"messages-container",children:Object(y.jsx)("ol",{className:"messages-list",children:n.map((function(e,n){return Object(y.jsxs)("li",{className:"message-item ".concat(e.name===u?"my-message":"received-message"),children:[e.name," (",new Date(e.date).toLocaleString(),"): ",e.message]},n)}))})}),Object(y.jsx)("textarea",{value:s,onChange:function(e){o(e.target.value)},placeholder:"Escribe algo...",className:"new-message-input-field"}),Object(y.jsx)("button",{onClick:function(){t(s,u),o("")},className:"send-message-button",children:"Send"}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("b",{className:"nickname-text",children:"Nickname"}),Object(y.jsx)("textarea",{value:u,onChange:function(e){j(e.target.value)},placeholder:"Escribe tu nickname ac\xe1",className:"nickname-field"})]})},G=t(3),v=t.p+"static/media/airplane.svg.ea29a2be.png",B=t(32)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"});B.emit("FLIGHTS");var L=function(){var e=c.a.useState([]),n=Object(r.a)(e,2),t=n[0],i=n[1];B.on("FLIGHTS",(function(e){i((function(n){return[].concat(Object(a.a)(n),[e])}))}));var s=c.a.useState({code:"",position:[30,30]}),o=Object(r.a)(s,2),l=o[0],d=o[1];return B.on("POSITION",(function(e){d(e)})),Object(y.jsx)("ol",{children:t.map((function(e,n){return e.map((function(e,n){return l.code===e.code?Object(y.jsx)(u.a,{position:l.position,icon:G.icon({iconUrl:v,iconSize:[20,20]}),children:Object(y.jsx)(j.a,{children:e.code})}):null}))}))})},D=function(){var e=c.a.useState([]),n=Object(r.a)(e,2),t=n[0],i=n[1];return B.on("FLIGHTS",(function(e){i((function(n){return[].concat(Object(a.a)(n),[e])}))})),Object(y.jsx)("ol",{children:t.map((function(e,n){return e.map((function(e,n){return Object(y.jsx)(h.a,{positions:[e.origin,e.destination],pathOptions:{color:l[n],dashArray:"5, 5"}})}))}))})},w=function(){var e=c.a.useState([]),n=Object(r.a)(e,2),t=n[0],i=n[1];return B.on("FLIGHTS",(function(e){i((function(n){return[].concat(Object(a.a)(n),[e])}))})),Object(y.jsx)(O.a,{children:t.map((function(e,n){return e.map((function(e,n){return Object(y.jsxs)(g.a,{border:"secondary",style:{width:"18rem"},children:[Object(y.jsxs)(g.a.Header,{children:["Vuelo ",e.code]}),Object(y.jsxs)(g.a.Body,{children:[Object(y.jsxs)(g.a.Text,{children:["Origen: ",e.origin]}),Object(y.jsxs)(g.a.Text,{children:["Destino: ",e.destination]}),Object(y.jsxs)(g.a.Text,{children:["Avi\xf3n: ",e.plane]}),Object(y.jsxs)(g.a.Text,{children:["Asientos: ",e.seats]}),Object(y.jsxs)(g.a.Text,{children:["Pasajeros: ",e.passengers.map((function(e,n){return Object(y.jsxs)("li",{children:[e.name," (",e.age,")"]})}))]})]})]})}))}))})};o.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsxs)("div",{className:"wrapper",children:[Object(y.jsx)("div",{className:"three",children:Object(y.jsxs)(g.a,{border:"secondary",style:{width:"60rem"},children:[Object(y.jsx)(g.a.Header,{children:'Mapa "En vivo"'}),Object(y.jsx)(g.a.Body,{children:Object(y.jsx)("div",{className:"leaflet-container",children:Object(y.jsxs)(b.a,{center:[30.5,10.5],zoom:2,scrollWheelZoom:!1,children:[Object(y.jsx)(L,{}),Object(y.jsx)(D,{}),Object(y.jsx)(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})]})})})]})}),Object(y.jsx)("div",{className:"four",children:Object(y.jsxs)(g.a,{border:"secondary",style:{width:"23rem"},children:[Object(y.jsx)(g.a.Header,{children:"Centro de Control"}),Object(y.jsxs)(g.a.Body,{children:[" ",Object(y.jsx)(k,{})]})]})}),Object(y.jsx)("div",{className:"five",children:Object(y.jsxs)(g.a,{border:"secondary",style:{width:"60rem"},children:[Object(y.jsx)(g.a.Header,{children:"Informaci\xf3n de los vuelos"}),Object(y.jsx)(g.a.Body,{children:Object(y.jsx)(w,{})})]})})]})}),document.getElementById("root")),d()}},[[88,1,2]]]);
//# sourceMappingURL=main.b8dc7da7.chunk.js.map